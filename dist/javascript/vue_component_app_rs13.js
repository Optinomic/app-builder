Vue.component("app-rs13",{props:{},created(){},data:function(){return{pdf_content:[],options:{min:0,max:100,item_height:50,item_text_left:83,item_text_right:60,color_skin:"indigo_grey_pink",color_grid:"#9E9E9E",color_clinic_sample:"#673AB7",show_baseline:!0,show_scale_text:!0,show_score_vertical_line:!0,show_score_profile_line:!1,show_score_circles:!0,show_settings_block:!1,show_ranges_overview:!0,allow_toggle_settings_block:!1,range_alpha:.08,vertical_grid_every_x:10,response_title_path:"calculation.resilienz_score.range.interpretation_de",response_date_path:"date"},scales:[{left_text:"Niedrige Resilienz",right_text:"Hohe Resilienz",score_path:"calculation.resilienz_score.rs13_score",clinic_sample_var:null}],ranges:[{range_start:13,range_stop:66,interpretation_de:"niedrige Widerstandskraft (Resilienz)",text:"Niedrig",color:"#F44336"},{range_start:67,range_stop:72,interpretation_de:"moderate Widerstandskraft (Resilienz)",text:"Moderat",color:"#FF9800"},{range_start:73,range_stop:91,interpretation_de:"hohe Widerstandskraft (Resilienz)",text:"Hoch",color:"#4CAF50"}]}},computed:{patient_secure(){try{return this.$store.state.patient.data.extras.secure}catch(e){return""}},sr_data(){try{return this.$store.state.sr.data}catch(e){return[]}},sr_count_text(){try{var ret_text="";return 0===this.$store.state.sr.data.length&&(ret_text="Keine Erfassung"),1===this.$store.state.sr.data.length&&(ret_text="Eine Erfassung"),this.$store.state.sr.data.length>1&&(ret_text="Erfassungen ("+this.$store.state.sr.data.length+")"),ret_text}catch(e){return""}},sr_full(){try{return this.$store.state.sr}catch(e){return[]}},pdf_ready(){try{if(this.$store.state.sr.data.length){var pdf=[];pdf.push(makepdf._suedhang_logo_anschrift());var title=makepdf._title("Psychische Wiederstandskraft","Resilienzfragebogen (RS-13)");return pdf.push(title),this.$store.state.sr.data.length>0?(pdf.push(makepdf._heading("Auswertung / Interpretation",null,"h2")),this.$store.state.sr.data.forEach(function(d){if(d.calculation_found){var interpret=makepdf._text(d.calculation.resilienz_score.interpretation);pdf.push(makepdf._keepTogether(interpret)),pdf.push(makepdf._horizontalLine(100,"#F5F5F5"));var pdf_chart=makepdf._pdf_chart_profile("de",this.options,{},{},[],this.scales,this.$store.state.sr,this.ranges);pdf.push(pdf_chart),pdf.push(makepdf._horizontalLine(100,"#F5F5F5"))}else pdf.push(makepdf._noData("Resilienz","Calculation noch nicht berechnet.",6))}.bind(this))):pdf.push(makepdf._noData("Resilienz","Keine Daten vorhanden",6)),this.pdf_content=pdf,!0}return!1}catch(e){return console.error("ERROR: pdf_ready",e),!1}}},template:'\n        <div>\n            <optinomic-content-block title="Erfassungen" :subtitle="sr_count_text" id="id_erfassungen"></optinomic-content-block>\n            <div class="mb-3">\n                <h3 class="font-weight-light">Erfassungen (<span v-html="sr_data.length"></span>)</h3>\n                <v-divider></v-divider>\n            </div>\n            \n            <div>\n                \n            </div>\n            <div style="margin-bottom:24px;">\n            \n            \n\n                <v-card class="mx-auto" outlined v-for="sr in sr_data" :key="sr.event_id">\n                    <v-card-text v-if="sr.calculation_found">\n                        <div class="overline">\n                            <span>∑</span> Resilienz-Summenscore: \n                            <span v-html="sr.calculation.resilienz_score.rs13_score"></span>\n                        </div>\n                        <p class="headline text--primary" v-html="formatDateCH(sr.date)"></p>\n\n                        <p class="overline">Auswertung / Interpretation</p>\n                        <div class="text--primary body-1 mb-4" v-html="sr.calculation.resilienz_score.interpretation"></div>\n                        <optinomic-chart-profile v-bind:options="JSON.stringify(options)" v-bind:scales="JSON.stringify(scales)" v-bind:ranges="JSON.stringify(ranges)" v-bind:scores="JSON.stringify(sr_full)"></optinomic-chart-profile>\n                        \n                    </v-card-text>\n                    <v-card-text v-else>\n                        <div>Resilienz</div>\n                        <p class="display-1 text--primary" v-html="formatDateCH(sr.date)">\n                        </p>\n                        <p>Hinweis</p>\n                        <div class="text--primary">\n                            Calculation noch nicht berechnet.\n                        </div>\n                    </v-card-text>\n                </v-card>\n            </div>\n            <div style="margin-bottom:24px;" v-if="pdf_ready">\n                <h3 class="font-weight-light">Druckvorlage (PDF)</h3>\n                <v-divider></v-divider>\n                <optinomic-pdfmake :header-left="patient_secure" footer-left="Resilienz" header-right="Klinik Südhang" document-title="Resilienz" :content="pdf_content" hide-logo></optinomic-pdfmake>\n            </div>\n        </div>\n    '});